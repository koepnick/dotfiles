I'm still trying to figure out the most idiomatic way of doing this
